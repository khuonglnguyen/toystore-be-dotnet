@model PagedList.IPagedList<ToyStore.Models.Product>
@using PagedList.Mvc;
@{
    ViewBag.Title = "Độ tuổi";
    Layout = "~/Views/Layout/ProductLayout.cshtml";
}
<script src="~/Scripts/jquery-3.4.1.min.js" type="text/javascript"></script>
<script src="~/Scripts/jquery.unobtrusive-ajax.min.js" type="text/javascript"></script>
<script>
    $(document).ready(function () {
        $('#ck1, #ck2, #ck3, #ck4, #ck5').click(function () {
            if (this.id == 'ck1') {
                $.ajax({
                    type: "Get",
                    url: '@Url.Action("FilterProductList", "Product")',
                    data: { type: "Ages", ID: @ViewBag.ageID, min: 0, max: 200000 },
                    success: function (data) {
                        $('#ProductContainer').html(data);
                    }
                });
            }
            else if (this.id == 'ck2') {
                $.ajax({
                    type: "Get",
                    url: '@Url.Action("FilterProductList", "Product")',
                    data: { type: "Ages", ID: @ViewBag.ageID, min: 200000, max: 500000 },
                    success: function (data) {
                        $('#ProductContainer').html(data);
                    }
                });
            }
            else if (this.id == 'ck3') {
                $.ajax({
                    type: "Get",
                    url: '@Url.Action("FilterProductList", "Product")',
                    data: { type: "Ages", ID: @ViewBag.ageID, min: 500000, max: 1000000 },
                    success: function (data) {
                        $('#ProductContainer').html(data);
                    }
                });
            }
            else if (this.id == 'ck4') {
                $.ajax({
                    type: "Get",
                    url: '@Url.Action("FilterProductList", "Product")',
                    data: { type: "Ages", ID: @ViewBag.ageID, min: 1000000, max: 1500000 },
                    success: function (data) {
                        $('#ProductContainer').html(data);
                    }
                });
            }
            else if (this.id == 'ck5') {
                $.ajax({
                    type: "Get",
                    url: '@Url.Action("FilterProductList", "Product")',
                    data: { type: "Ages", ID: @ViewBag.ageID, min: 1500000},
                    success: function (data) {
                        $('#ProductContainer').html(data);
                    }
                });
            }
        });
        $(document).on('change', ".checkedPrice", function () {
            $(".checkedPrice").prop("checked", false);
            $(this).prop("checked", true);
        });
        $(document).on('change', ".checkedDiscount", function () {
            $(".checkedDiscount").prop("checked", false);
            $(this).prop("checked", true);
        });
    });
</script>
<div class="side-bar col-md-3">
    <div class="search-hotel">
        <div class="left-side">
            @Ajax.ActionLink("Tìm kiếm", "FilterProductList", "Product", new { keyword = "Chiến binh" }, new AjaxOptions { HttpMethod = "GET", UpdateTargetId = "ProductContainer", InsertionMode = InsertionMode.Replace })
        </div>
        <div class="left-side">
            <h3 class="agileits-sear-head">Mức giá</h3>
            <ul>
                <li>
                    <label style="font-weight:normal">
                        <input type="checkbox" class="checkedPrice" id="ck1">
                        <span class="span">Dưới 200,000</span>
                        @*@Ajax.ActionLink("Lọc", "FilterProductList", "Product", new { type = "Ages", ID = ViewBag.ageID, min = 0, max = 200000 }, new AjaxOptions { HttpMethod = "GET", UpdateTargetId = "ProductContainer", InsertionMode = InsertionMode.Replace })*@
                    </label>
                </li>
                <li>
                    <label style="font-weight:normal">
                        <input type="checkbox" class="checkedPrice" id="ck2">
                        <span class="span">200,000 - 500,000</span>
                    </label>
                </li>
                <li>
                    <label style="font-weight:normal">
                        <input type="checkbox" class="checkedPrice" id="ck3">
                        <span class="span">500,000 - 1,000,000</span>
                    </label>
                </li>
                <li>
                    <label style="font-weight:normal">
                        <input type="checkbox" class="checkedPrice" id="ck4">
                        <span class="span">1,000,000 - 1,500,000</span>
                    </label>
                </li>
                <li>
                    <label style="font-weight:normal">
                        <input type="checkbox" class="checkedPrice" id="ck5">
                        <span class="span">Trên 1,500,000</span>
                    </label>
                </li>
            </ul>
        </div>
        <div class="left-side">
            <h3 class="agileits-sear-head">Khuyến mãi</h3>
            <ul>
                <li>
                    <input type="checkbox" class="checkedDiscount">
                    <span class="span">5% trở lên</span>
                </li>
                <li>
                    <input type="checkbox" class="checkedDiscount">
                    <span class="span">10% trở lên</span>
                </li>
                <li>
                    <input type="checkbox" class="checkedDiscount">
                    <span class="span">20% trở lên</span>
                </li>
                <li>
                    <input type="checkbox" class="checkedDiscount">
                    <span class="span">30% trở lên</span>
                </li>
                <li>
                    <input type="checkbox" class="checkedDiscount">
                    <span class="span">50% trở lên</span>
                </li>
                <li>
                    <input type="checkbox" class="checkedDiscount">
                    <span class="span">60% trở lên</span>
                </li>
            </ul>
        </div>
        <div class="customer-rev left-side">
            <h3 class="agileits-sear-head">Khách hàng đánh giá</h3>
            <ul>
                <li>
                    <a href="#">
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <span>5.0</span>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star-o" aria-hidden="true"></i>
                        <span>4.0</span>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star-half-o" aria-hidden="true"></i>
                        <i class="fa fa-star-o" aria-hidden="true"></i>
                        <span>3.5</span>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star-o" aria-hidden="true"></i>
                        <i class="fa fa-star-o" aria-hidden="true"></i>
                        <span>3.0</span>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star-half-o" aria-hidden="true"></i>
                        <i class="fa fa-star-o" aria-hidden="true"></i>
                        <i class="fa fa-star-o" aria-hidden="true"></i>
                        <span>2.5</span>
                    </a>
                </li>
            </ul>
        </div>
        @{
            IEnumerable<ToyStore.Models.Product> products = ViewBag.ListProduct;
        }
        <div class="deal-leftmk left-side">
            <h3 class="agileits-sear-head">Sản phẩm vừa xem</h3>
            @foreach (var item in products)
            {
                <div class="special-sec1">
                    <div class="col-xs-4 img-deals">
                        <img src="@Url.Content("~/Content/images/"+@item.Image1)" alt="" style="width:70px;height:70px">
                    </div>
                    <div class="col-xs-8 img-deal1">
                        <h3>@item.Name</h3>
                        <a href="single.html">@item.PromotionPrice ₫</a>
                    </div>
                    <div class="clearfix"></div>
                </div>
            }
        </div>
    </div>
</div>
<div class="product-sec1" id="ProductContainer">
    <h3 class="heading-tittle">@ViewBag.Name</h3>
    @foreach (var item in Model)
    {
        @Html.Action("ProductPartial", "Product", new { product = item })
    }
    <div class="clearfix"></div>
    <br />
    <div id='Paging' style="text-align: right">
        @Html.PagedListPager(Model, page => Url.Action("Ages", new { ID = ViewBag.ageID, page }))
    </div>
</div>